<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Coffee Mashine - javaScript Homework</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Marko Petronijevic">
        
        
        <link href="css/style.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <div id="caffe-mashine">
            <div id="caffe-screen" class="d-flex flex-column justify-between">
                <p>Credit: <span id="credit">    </span>RSD</p>
                <p id="message" class="text-center">DISPLAY MESAGE</p>

                <p id="status">Water: <span id="water-status">  </span> Coffe: <span id="coffee-status"> </span> Milk <span id="milk-status"> </span></p>
            </div>
            <div>

            </div>
            <button id="add-credit" class="d-block" onclick="coffeeMachine.addCredit();">Add Credit</button>
            <div class="d-flex justify-between">
                <button id="add-water" onclick="coffeeMachine.addWater();" >ADD WATER</button>
                <button id="add-coffee" onclick="coffeeMachine.addCoffee();" >ADD COFFEE</button>
                <button id="add-milk" onclick="coffeeMachine.addMilk();" >ADD MILK</button>
            </div>
            <div class="d-flex justify-between">
                <button id="short-espresso" onclick="coffeeMachine.makeShortEspresso();" >Short Espreso</button>
                <button id="long-espresso" onclick="coffeeMachine.makeLongEspresso();" >Long Espreso</button>
                <button id="capuchino" onclick="coffeeMachine.makeCapuchino();" >Capuchino</button>
            </div>
        </div>



        <script>
            // Create object coffeeMaschine below
            let errors = {};
               
            let coffeeMachine = {
                water: 400,
                coffee:200,
                milk: 100,
                credit: 100,

                waterStatus: function () {
                    document.getElementById("water-status").innerHTML = this.water;
                   
                },

                addWater: function () {
                    var voda = parseInt(prompt("Molimo unesti vrednost vode u brojevima"));
                    if (isNaN(voda)) {
                        alert("Uneta vrednost mora da bude broj");

                    } else if ((this.water + voda) > 400) {

                        alert("Aparat ima dovoljno vode");
                    } else {
                        this.water += voda;
                        document.getElementById("water-status").innerHTML = this.water;
                    }
                },
                
                emptyWater: function (water) {
                    if (this.water < water) {
                        document.getElementById("message").innerHTML = "Machine is out of water\n";
                        return;
                    } else {
                        this.water -= water;
                       // console.log(this.waterStatus);
                        this.waterStatus();
                  
                        document.getElementById("message").innerHTML = "Pouring water";

                    }
                },

                coffeeStatus: function () {
                    document.getElementById("coffee-status").innerHTML = this.coffee;
                    //waterStatus();
                    
                    // coffeeMachine.waterStatus();

                },
                addCoffee: function () {
                    var kafa = parseInt(prompt("Molimo unesti vrednost kafe"));
                    if (isNaN(kafa)) {
                        alert("Uneta vrednost mora da bude broj");
                    } else if ((this.coffee + kafa) > 200) {
                        alert("Aparat ima dovoljno kafe");
                    } else {
                        // var kkafa=kafa;
                        this.coffee += kafa;
                        document.getElementById("coffee-status").innerHTML = this.coffee;
                    }
                },
                

                emptyCoffee: function (coffee) {
                    if (this.coffee < coffee) {
                        document.getElementById("message").innerHTML = "Machine is out of coffee";
                        return;
                    } else {
                        this.coffee -= coffee;
                        this.coffeeStatus();
                        document.getElementById("message").innerHTML = "Pouring coffie";

                    }
                },

                milkStatus: function () {
                    document.getElementById("milk-status").innerHTML = this.milk;
                  

                },
                
                addMilk: function () {
                    var mleko = parseInt(prompt("Molimo unesti vrednost mleka"));
                    if (isNaN(mleko)) {
                        alert("Uneta vrednost mora da bude broj");
                    } else if ((this.milk + mleko) > 100) {
                        alert("Aparat ima dovoljno mleka");
                    } else {
                        // var kkafa=kafa;
                        this.milk += mleko;
                        document.getElementById("milk-status").innerHTML = this.milk;
                    }
                },

               

                emptyMilk: function (milk) {
                    if (this.milk < milk) {
                        document.getElementById("message").innerHTML = "Machine is out of coffee";
                        return;
                    } else {
                        this.milk -= milk;
                        this.milkStatus();
                        document.getElementById("message").innerHTML = "Pouring milk";

                    }
                },

                creditStatus: function () {
                    document.getElementById("credit").innerHTML = this.credit;
                   
                    // coffeeMachine.waterStatus();

                },
                addCredit: function () {
                    var kredit = parseInt(prompt("Molimo unesti vrednost mleka"));
                    if (isNaN(kredit)) {
                        alert("Uneta vrednost mora da bude broj");

                    } else {
                        // var kkafa=kafa;
                        this.credit += kredit;
                        document.getElementById("credit").innerHTML = this.credit;
                    }
                },

               
                emptyCredit: function (credit) {
                    if (this.credit < credit) {
                        document.getElementById("message").innerHTML = "No enough credit ";
                        return;
                    } else {
                        this.credit -= credit;
                        this.creditStatus();
                        document.getElementById("message").inenerHTML= "Pouring milk";

                    }
                },
                
                
                 makeShortEspresso:function(){
                     if(this.credit<30){
                        alert("Nemate dovoljno kredita");
                        return;
                     }
                     if(this.water<20){
                         alert("Nemate dovoljno vode");
                        return;
                     }
                      if(this.coffee<10){
                         alert("Nemate dovoljno kafe");
                        return;
                     }
                      document.getElementById("message").innerHTML = 'Preparing short esspresso';
                      this.emptyCredit(30);
                      
                      
                      //ovo sam nasao na netu pa sam uradio jedan primer sa tim da vidim radi li:
                      
                      setTimeout(()=>{
                          this.emptyWater(20);
                      },1000);
                      setTimeout(()=>{
                          this.emptyCoffee(10);
                      },2000);
                      setTimeout(()=>{
                        
                          document.getElementById("message").innerHTML = "Short espresso finished";
                      },3000);
                      
                 },
                 
                 
                  makeLongEspresso:function(){
                     if(this.credit<40){
                        alert("Nemate dovoljno kredita");
                        return;
                     }
                     if(this.water<40){
                         alert("Nemate dovoljno vode");
                        return;
                     }
                      if(this.coffee<10){
                         alert("Nemate dovoljno kafe");
                        return;
                     }
                      document.getElementById("message").innerHTML = 'Preparing long esspresso';
                      this.emptyCredit(40);
                      
                      setTimeout(this.emptyWater.bind(this),1000, 40);
                      setTimeout(this.emptyCoffee.bind(this),2000, 10);
                      setTimeout(function(){
                          document.getElementById("message").innerHTML = "Long espresso finished";
                      },3000);
                      
                 },
                 makeCapuchino:function(){
                     if(this.credit<50){
                        alert("Nemate dovoljno kredita");
                        return;
                     }
                     if(this.water<20){
                         alert("Nemate dovoljno vode");
                        return;
                     }
                      if(this.coffee<10){
                         alert("Nemate dovoljno kafe");
                        return;
                     }
                     if(this.milk<10){
                         alert("Nemate dovoljno mleka");
                        return;
                     }
                      document.getElementById("message").innerHTML = 'Preparing Capuchino';
                      this.emptyCredit(50);
                      
                      setTimeout(this.emptyWater.bind(this),1000, 20);
                      setTimeout(this.emptyCoffee.bind(this),2000, 10);
                      setTimeout(this.emptyMilk.bind(this),3000, 10);
                      setTimeout(function(){
                          document.getElementById("message").innerHTML = "Capuchino finished";
                      },4000);
                      
                 }
                 
            };



            coffeeMachine.waterStatus();
            coffeeMachine.coffeeStatus();
            coffeeMachine.milkStatus();
            coffeeMachine.creditStatus();




        </script>
    </body>
</html>
